for(var cartAdd=document.querySelectorAll(".buy-button"),popupCartAdd=document.querySelector(".modal-cart-add"),closeForm=document.querySelector(".modal-cart-close"),i=0;i<cartAdd.length;i++)cartAdd[i].addEventListener("click",function(e){e.preventDefault(),popupCartAdd.classList.add("modal-show")});closeForm.addEventListener("click",function(e){e.preventDefault(),popupCartAdd.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popupCartAdd.classList.contains("modal-show")&&(e.preventDefault(),popupCartAdd.classList.remove("modal-show"))});var openMap=document.querySelector(".map"),popupMap=document.querySelector(".modal-map"),closeMap=document.querySelector(".map-close");openMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.add("modal-show")}),closeMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popupMap.classList.contains("modal-show")&&(e.preventDefault(),popupMap.classList.remove("modal-show"))});var openForm=document.querySelector(".contact-button"),popupWriteUs=document.querySelector(".modal-write-us"),form=(closeForm=document.querySelector(".modal-close"),popupWriteUs.querySelector(".write-us-form")),username=form.querySelector("[name=username]"),email=form.querySelector("[name=email]"),message=form.querySelector("[name=message]"),isStorageSupport=!0;openForm.addEventListener("click",function(e){e.preventDefault(),popupWriteUs.classList.add("modal-show"),username.focus()}),form.addEventListener("submit",function(e){username.value&&email.value&&message.value?isStorageSupport&&localStorage.setItem("username",username.value):(event.preventDefault(),popupWriteUs.classList.add("modal-error"))}),closeForm.addEventListener("click",function(e){e.preventDefault(),popupWriteUs.classList.remove("modal-show"),popupWriteUs.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popupWriteUs.classList.contains("modal-show")&&(e.preventDefault(),popupWriteUs.classList.remove("modal-show"),popupWriteUs.classList.remove("modal-error"))});
